# 네트워크
일단 내가 알아볼 수 있게만 정리해논...  
나중에 제대로 정리하도록 하겠습니다요  
우리 수업은 2개의 산으로 이루어짐

1. 웹 페이지 만들기
 -> 코딩이 무엇인가를 파악하는 것이 목표
2. 내가 만든 웹 페이지를 인터넷을 통해서 누구나 가져갈 수 있게 하는 것

우리가 웹의 역사를 거슬러 올라가서 
웹이 세상에 처음 도착했을 때 도착한다면
거기에 웹의 본질이 있을 것 같았음

그 본질은?
 웹이 웹이기 위해서 필요한, 있어야 할 것은 빠짐없이 있으면서도 
 없어도 될 군더기기는 없는 순수한 상태였음

[🖥참고영상](https://youtube.com/playlist?list=PLuHgQVnccGMA52uRBmSwqcvtI5IMoFclJ)
<details>
<summary>1. 수업소개</summary>
<div markdown="1">
수업 목표
 공유기를 사용하는 환경에서 웹 서버를 구동하는 방법 
공유기에 연결된 컴퓨터의 웹 서버에 불특정 다수가 접속하게 하는 것은
쉬운 일이 아님

-> 인터넷을 지배하는 핵심적인 지식과 경험을 얻을 수 있음

전화기가 서로 통신하기 위해서 전화번호가 필요함
마찬가지로
인터넷 위에 있는 컴퓨터와 컴퓨터가 서로 통신하려면 
IP 주소가 필요함

IPv4라는 인터넷 통신 규칙을 만듬
이 인터넷 통신 규칙에서 사용하는 ip 주소는
42억개의 주소를 표현할 수 있음
 
웹, 스마트폰, 클라우드 컴퓨팅, IOT(사물 인터넷)과 같은
정보기술의 혁신들이 등장하면서
인터넷에 연결되는 컴퓨터가 기하급수적으로 증가
-> 42억개면 충분할 것 같았던 ip 주소가 부족함

이 문제로 인류는 고민에 빠짐 
-> 해결책 찾음

근본적인 해결책 
 주소의 형식을 완전히 새롭게 바꿈
  새로운 인터넷 통신 규칙에서는 새로운 ip주소를 도입
(앞으로 1000년 뒤에도 쓸 수 있을만큼 넉넉함)

하지만 주소를 바꾼 일은 쉽지 않은 일
그래서 당분간 IPv4를 아껴써야 함

그 노력 중 하나가 공유기
하나의 ip 주소를 여러 컴퓨터가 나눠쓸 수 있음
개인은 통신 요금 절약 가능

하지만 공유기에 연결되어 있는 컴퓨터의 서버를 설치해서
운영을 하는 것은 쉽지 않은 일 

</div>
</details>

<details>
<summary>2. 공유기 (Router)</summary>
<div markdown="1">
Router (공유기) 
 우리가 인터넷을 사용하기 위해서 컴퓨터가 
 ip 주소를 가지고 있어야 함

그래야지만 다른 컴퓨터와 통신 가능
서버 13.124.77.38 ------ 클라이언트 59.6.66.238 

통신사계약 
회선 연결 노트북

통신사계약 회선계약하나만 
공유기라는 거 들여옴
같이 붙어있는 거 LAN             == public IP address
따로 떨어져 있는 거 WAN          == private IP address

회선연결 WAN
각각 장치 LAN에 연결
스마트폰은 안테나로 

공유기에 부여된 ip
== 게이트웨이 어드레스
== 라우터 어드레스

사진 첨부 필수.......
</div>
</details>

<details>
<summary>3. NAT (Network Address Translation)</summary>
<div markdown="1">
NAT (Network Address Translation)
이 기술 덕분에 사설 ip를 쓰고 있는 각각의 컴퓨터들이 외부 인터넷에 접속할 수 있게 됨  

여러분의 컴퓨터 -> 게이트웨이 어드레스(공유기)에게 신호(요청)를 보냄  
상황1) -> 요청이 내부 네트워크안에 있는 요청일 경우 -> 바로 LAN을 통해 보냄  
상황2) -> 요청이 외부 네트워크에 있는 경우 -> 요청을 넘겨서 WAN을 통해서 웹으로 보냄  

이때 !!  
웹으로 보내기 전에 2가지 일을 함  
1. 어떤 ip로 요청했는지를 기록해놈  
지금 이 위키피디아로 가는 요청이 192.168.0.4를 가지고 있는 요청이다 라고 공유기에 기록해놈 -> 그래야 나중에 연결 가능  
2. 요청한 데이터의 내용을 변경함 
요청한 컴퓨터는 실제로 192.168.0.4를 쓰고 있는데 저 주소는 외부에서는 접속을 못하는 주소임  
그래서 공유기에 NAT 라는 기술이 요청한 데이터를 변경시킴  
 ex) 192.168.0.4라는 부분을 59.6.66.238이라고 변경 -> 변경된 데이터를 위키피디아에 쏴줌  
 -> 위키피디아가 그 정보를 받은 후 어떤 작업을 처리 -> 59.6.66.238로 응답(데이터 변경해줬으니까 여기로 응답해주는 거!)  
 -> 공유기가 그 응답받은 정보를 보고 그 정보가 192.168.0.4라는 ip를 가지고 있는 컴퓨터가 요청했었던 정보라는 것을 파악  
 -> 192.168.0.4로 응답  

이 과정을 통해서 사설 ip를 사용하고 있는 컴퓨터가  
바깥쪽에 있는 퍼블릭 ip를 통해 외부세상에 접속할 수 있게 됨  
그리고 이때 사용하는 기술이 NAT이다 !!                                                             
</div>
</details>

<details>
<summary>5. port</summary>
<div markdown="1">
 외부에 있는 불특정한 사람 접속해서 컴퓨터에 도달해야할 때 
 port forwarding  
 
 port   
  0 ~ 1023 - Well-known port  
  예약된 포트  
  웹 서버는 기본적으로 80번에 연결되도록 되어있음  
  리스닝
  
</div>
</details>
 
### Http (Hyper Text Transfer Protocol)  
 : 서버/클라이언트 모델을 따라 데이터를 주고 받기 위한 프로토콜  
 
### 프로토콜  
컴퓨터 내부에서, 또는 컴퓨터 사이에서 데이터의 교환 방식을 정의하는 규칙 체계  
기기 간 통신은 교환되는 데이터의 형식에 대해 상호 합의를 요구  
이러한 형식을 정의하는 규칙의 집합  

### Http 프로토콜의 문제점  
 서버에서부터 브라우저로 전송되는 정보가 암호화되지 않는다는 점  
 이 말은 즉, 데이터가 쉽게 도난 당할 수 있다는 것  
 
### Https ((Hyper Text Transfer Protocol Secure)  
 : HTTP에 데이터 암호화가 추가된 프로토콜  
   SSL(보안 소켓 계층)을 사용함으로써 이 문제를 해결했음  

### SSL :보안 소켓 계층 (Secure Sockets Layer)
 보안 소켓 계층 인증서는 종종 디지털 인증서로 불리며,  
 브라우저(사용자의 컴퓨터)와 서버(웹 사이트) 사이의 암호화된 연결을 수립하는데 사용  
 
 웹 사이트와 브라우저 사이(또는 두 서버 사이)에 전송되는 데이터를 암호화하여  
 인터넷 연결을 보호하기 위한 표준 기술임  
 이 기술은 해커가 개인 데이터나 금융 데이터 등의 전송되는 정보를 보거나 훔치는 것을 방지함
 
### TLS :전송 계층 보안 (Transport Layer Security) 
 SSL의 향산된 더욱 안전한 버전 
 그러나 SSL이 더욱 일반적인 용어임
 
[🖥참고영상](https://www.youtube.com/watch?v=dHcjwTvrxTk)
<details>
<summary>웹 공격과 방어와 미친토끼</summary>
<div markdown="1"> 
1. parameter 변조  
 프론트: 당근마트에서 주문하기 버튼 클릭 -------data (상품의 일려번호, 상품 갯수, 가격을 파라미터로)------->  서버  
 클라이언트가 나쁜 맘 먹으면 변조 가능  
 컴퓨터 좀 만지는 애가 요청을 보내기 전에 가격 값을 0으로 보냄  
 이것이 바로 파라미터 변조 !!  
 
이런 post 요청 값뿐만 아니라 url parameter 조작  
 허술한 곳에서는 ~.com/board?doc=101  
 주소에 들어가는 키워드만 바꾸면 비밀 게시물이나 개인정보에도 접근 쌉 가능....  
 
 정말 위험한 건 권한을 조작하는 것  
 
 사용자의 컴퓨터 --------로그인----------> 서버  
 클라이언트는 자기가 로그인했음을 인증하는 표딱지를 쿠키로 가지고 있게 됨  
 아무 요청을 보낼 때마다 이걸 같이 실어보내서 내가 현재 이 서버에  
 로그인 되어 있다는 걸 세션 방식으로든 토큰 방식으로든 매번 인증을 함  
 
 표딱지에는 사용자를 식별하기 위한 정보가 들어있음  
 ex) id : john  
     index : 27  
     auth : zookeeper  
     관람시간 이후에도 사파리에 들어올 수 있음  
     
     근데 밀렵꾼들이 로그인해서 이 표딱지를 받은 다음  
     id : cheongsol  
     index : 108  
     auth : visitor  
     권한을 zookeeper로 바꿔서 사파리에 접근  
     
   그러니깐 대비해야 함  
   왜 가격을 프론트에 실어보냄??  
   서버에서 주문받고 결정해야집 !!  
   
 권한 문제도 마찬가지  
 권한을 서버측에서 그때그때 부여하게 만들기  
 user index도 숫자 그대로 되어있으면 이것저것 시도 후 사육사 계정 얻어걸리면 큰일..
 때문에 이런 토큰을 아예 해시값으로 처리해서 공격자가 에측하지 못하게 할 수도 
 서버에서 무결성 체크하기도 좋음
 
이런저런 값 넣어보면서 접근 시도 감지해서 -> 차단기능

2.
</div>
</details>

## 전송계층에서 사용하는 프로토콜  
 먼저 전송 계층이란?  
 송신자와 수신자를 연결하는 통신 서비스를 제공하는 계층으로 쉽게 말해 데이터의 전달을 담당  
 
 데이터를 보내기 위해 사용하는 프로토콜 == TCP와 UDP  
 
### TCP (전송 제어 프로토콜/ Transmission Control Protocol)  
 두 개의 호스트를 연결하고 데이터 스트림을 교환하게 해주는 중요한 네트워크 프로토콜  
 인터넷 상에서 데이터를 메세지의 형태로 보내기 위해 IP와 함께 사용하는 프로토콜  
 (IP - 데이터의 배달을 처리, TCP = 패킷을 추적 및 관리)
 데이터와 패킷이 보내진 순서대로 전달하는 것을 보장해줌

### UDP
 
